---
title: "üöÄ Automating Website Backups on Linux Servers using Bash (xFusionCorp Task)"
datePublished: Thu Oct 16 2025 07:51:30 GMT+0000 (Coordinated Universal Time)
cuid: cmgt4fjn1000202i51mv942bq
slug: automating-website-backups-on-linux-servers-using-bash-xfusioncorp-task
tags: devops-sysadmin-networking-dns-linux-infrastructure-itoperations-automation

---

### üß≠ Objective

In this post, I‚Äôll explain how I automated the website backup process for a static site hosted on **App Server 3**.  
The task was to create a **bash script** (`blog_`[`backup.sh`](http://backup.sh)) that:

* Creates a zip archive of `/var/www/html/blog`
    
* Saves it under `/backup/`
    
* Copies it to the **Nautilus Backup Server**
    
* Works **without using** `sudo` inside the script
    
* Runs **without asking for password** when copying files via SSH
    

---

## ‚öôÔ∏è Step-by-Step Implementation

### **1Ô∏è‚É£ Prepare directories**

*(This part you do manually once, not in the script)*

```plaintext
sudo mkdir -p /var/www/html/blog
sudo mkdir -p /backup
sudo mkdir -p /scripts
```

Set proper permissions so that `tony` can use them:

```plaintext
sudo chown -R tony:tony /var/www/html/blog /backup /scripts
```

---

### **2Ô∏è‚É£ Install zip**

(Required only once on the App Server)

```plaintext
sudo yum install zip -y
```

---

### **3Ô∏è‚É£ Create the blog files**

Let‚Äôs create some test files to back up:

```plaintext
echo "Welcome to xFusionCorp Blog" > /var/www/html/blog/index.html
echo "This is a test backup page" > /var/www/html/blog/info.html
```

---

### **4Ô∏è‚É£ Set up passwordless SSH (very important)**

From **App Server 3 (user tony)**:

```plaintext
ssh-keygen -t rsa
```

Then copy the public key to the backup server:

```plaintext
ssh-copy-id clint@stbkp01
```

Test it:

```plaintext
ssh clint@stbkp01
```

If it logs in **without asking for a password**, you're good.

---

### **5Ô∏è‚É£ Create the script**

Now create the script **without sudo**:

```plaintext
vi /scripts/blog_backup.sh
```

Add the following:

```plaintext
#!/bin/bash

# Create zip archive of website
zip -r /backup/xfusioncorp_blog.zip /var/www/html/blog

# Copy backup to Nautilus Backup Server
scp /backup/xfusioncorp_blog.zip clint@stbkp01:/backup/
```

Save and exit (`:wq`).

Make it executable:

```plaintext
chmod +x /scripts/blog_backup.sh
```

---

### **6Ô∏è‚É£ Run the script**

```plaintext
bash /scripts/blog_backup.sh
```

Expected output:

```plaintext
  adding: var/www/html/blog/
  adding: var/www/html/blog/index.html
  adding: var/www/html/blog/info.html
```

---

### **7Ô∏è‚É£ Verify**

Check on App Server 3:

```plaintext
ls /backup/
```

‚úÖ You should see:

```plaintext
xfusioncorp_blog.zip
```

Now check on **Backup Server**:

```plaintext
ls /backup/
```

‚úÖ You should see the same file copied successfully.

---

## ‚úÖ Result

* Zip archive successfully created and transferred.
    
* No `sudo` used inside the script.
    
* Passwordless file transfer working.
    
* Script can be run manually or via `cron` for automation.
    

---